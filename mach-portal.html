<!DOCTYPE html>
<!--
================================================================================
LVS CUSTOMER PORTAL - MOCKUP
================================================================================
Version: 1.0
Last Updated: January 28, 2026
Status: MOCKUP - Feature decommissioned until launch

OVERVIEW:
  This is a customer-facing portal for NDA-signed partners. Each customer
  would see their own engagement progress, product information, and documents.
  Currently showing Mach Industries as example customer.

STRUCTURE:
  - 7 Tabs: Dashboard | Product | Specifications | DevKit | SDK | Docs | Support
  - Single-page app using vanilla JS tab switching (no framework)
  - All CSS in <style> block, all JS in <script> block at bottom

CUSTOMIZATION POINTS:
  - Customer name: Search for "Mach Industries" to replace
  - Engagement stage: Modify .stage-dot classes (complete/current/upcoming)
  - Status: Stalled - awaiting responses
================================================================================
-->
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' https:; connect-src 'self';">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mach Industries Portal | Lola Vision Systems</title>
    <link rel="stylesheet" href="css/shared-portal.css">
    <script src="js/security.js"></script>
    <script>
        (function() {
            const SESSION_TIMEOUT = 30 * 60 * 1000;
            const timestamp = sessionStorage.getItem('lvs_session_timestamp');
            const auth = sessionStorage.getItem('lvs_auth');
            if (auth !== 'true') { window.location.href = 'login.html'; return; }
            if (timestamp && (Date.now() - parseInt(timestamp, 10)) > SESSION_TIMEOUT) {
                sessionStorage.clear(); window.location.href = 'login.html?session=expired'; return;
            }
            sessionStorage.setItem('lvs_session_timestamp', Date.now().toString());
        })();
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-brand">
            <img src="assets/lvs-logo.webp" alt="LVS" class="nav-logo">
            <div class="nav-title">LOLA VISION <span>SYSTEMS</span></div>
        </div>
        <div class="nav-user">
            <a href="software-platform.html" class="nav-link" style="margin-right: 16px;">Software Platform</a>
            <a href="founder-portal.html" class="nav-link" style="margin-right: 16px;">&#8592; Founder Portal</a>
            <span class="customer-badge">Customer Portal</span>
            <a href="login.html" class="nav-link" onclick="sessionStorage.clear()">Logout</a>
        </div>
    </nav>

    <!-- Tab Navigation -->
    <div class="tab-nav">
        <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
        <button class="tab-btn" data-tab="product">Product<span class="badge">LVS-250</span></button>
        <button class="tab-btn" data-tab="specs">Specifications</button>
        <button class="tab-btn" data-tab="devkit">Development Kit</button>
        <button class="tab-btn" data-tab="sdk">Software SDK</button>
        <button class="tab-btn" data-tab="documents">Documents</button>
        <button class="tab-btn" data-tab="support">Support</button>
    </div>

    <div class="container">
        <!-- ==================== DASHBOARD TAB ==================== -->
        <div id="dashboard" class="tab-content active">
            <!-- Welcome Header -->
            <div class="welcome">
                <div class="welcome-content">
                    <h1>Welcome back, <span>Mach Industries</span></h1>
                    <p>Your partnership dashboard - Last updated January 28, 2026</p>
                </div>
                <div style="background: linear-gradient(135deg, #1a1a2e, #16213e); padding: 24px 32px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                    <span style="font-size: 22px; font-weight: 800; color: white; letter-spacing: 2px;">MACH</span>
                </div>
            </div>

            <!-- Stalled Status Banner -->
            <div class="stalled-banner">
                <span class="stalled-banner-icon">&#9888;</span>
                <div class="stalled-banner-content">
                    <div class="stalled-banner-title">Engagement Status: Stalled</div>
                    <div class="stalled-banner-text">Awaiting response on IRAD proposal signature and US Army pitch invitation. Last outreach: January 2026.</div>
                </div>
            </div>

            <!-- Stage Progress Tracker -->
            <div class="stage-tracker">
                <h2>Engagement Progress</h2>
                <div class="stages">
                    <div class="stage">
                        <div class="stage-dot complete">&#10003;</div>
                        <span class="stage-label">Discovery</span>
                        <span class="stage-date">Sep 2025</span>
                    </div>
                    <div class="stage">
                        <div class="stage-dot complete">&#10003;</div>
                        <span class="stage-label">NDA Signed</span>
                        <span class="stage-date">Oct 2025</span>
                    </div>
                    <div class="stage active">
                        <div class="stage-dot current">3</div>
                        <span class="stage-label">Evaluation</span>
                        <span class="stage-date">Stalled</span>
                    </div>
                    <div class="stage">
                        <div class="stage-dot upcoming">4</div>
                        <span class="stage-label">IRAD Contract</span>
                        <span class="stage-date">TBD</span>
                    </div>
                    <div class="stage">
                        <div class="stage-dot upcoming">5</div>
                        <span class="stage-label">Integration</span>
                        <span class="stage-date">TBD</span>
                    </div>
                    <div class="stage">
                        <div class="stage-dot upcoming">6</div>
                        <span class="stage-label">Production</span>
                        <span class="stage-date">2027+</span>
                    </div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="grid">
                <div>
                    <div class="panel">
                        <h3>Engagement Milestones</h3>
                        <div class="milestone">
                            <div class="milestone-icon complete">&#10003;</div>
                            <div class="milestone-content">
                                <div class="milestone-title">Initial Contact</div>
                                <div class="milestone-date">September 2025</div>
                            </div>
                            <span class="milestone-badge complete">Complete</span>
                        </div>
                        <div class="milestone">
                            <div class="milestone-icon complete">&#10003;</div>
                            <div class="milestone-content">
                                <div class="milestone-title">NDA Executed</div>
                                <div class="milestone-date">October 2025</div>
                            </div>
                            <span class="milestone-badge complete">Complete</span>
                        </div>
                        <div class="milestone">
                            <div class="milestone-icon complete">&#10003;</div>
                            <div class="milestone-content">
                                <div class="milestone-title">IRAD Proposal Submitted</div>
                                <div class="milestone-date">November 2025</div>
                            </div>
                            <span class="milestone-badge complete">Complete</span>
                        </div>
                        <div class="milestone">
                            <div class="milestone-icon stalled">&#9679;</div>
                            <div class="milestone-content">
                                <div class="milestone-title">IRAD Proposal - Awaiting Signature</div>
                                <div class="milestone-date">Pending response</div>
                            </div>
                            <span class="milestone-badge stalled">Stalled</span>
                        </div>
                        <div class="milestone">
                            <div class="milestone-icon stalled">&#9679;</div>
                            <div class="milestone-content">
                                <div class="milestone-title">US Army IEW&S/C5ISR Pitch Invitation</div>
                                <div class="milestone-date">January 2026 - Awaiting response</div>
                            </div>
                            <span class="milestone-badge stalled">Stalled</span>
                        </div>
                    </div>

                    <!-- Pending Actions -->
                    <div class="panel" style="margin-top: 24px; border-left: 3px solid var(--stalled);">
                        <h3>Pending Actions</h3>
                        <div class="pending-action">
                            <div class="pending-action-header">
                                <span class="pending-action-icon">&#128196;</span>
                                <span class="pending-action-title">IRAD Proposal Signature</span>
                            </div>
                            <div class="pending-action-desc">
                                IRAD proposal submitted November 2025. Awaiting Mach Industries signature to proceed with joint development agreement.
                            </div>
                            <span class="pending-action-status">Awaiting Response</span>
                        </div>
                        <div class="pending-action">
                            <div class="pending-action-header">
                                <span class="pending-action-icon">&#127919;</span>
                                <span class="pending-action-title">US Army Pitch Invitation</span>
                            </div>
                            <div class="pending-action-desc">
                                Email invitation sent to join LVS pitch to US Army IEW&S and C5ISR. Potential joint presentation opportunity.
                            </div>
                            <span class="pending-action-status">Awaiting Response</span>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="panel">
                        <h3>Your LVS Contact</h3>
                        <div class="contact-card">
                            <h4>Dedicated Support</h4>
                            <div class="contact-person">
                                <div class="contact-avatar">TA</div>
                                <div class="contact-info">
                                    <h5>Tayo Adesanya</h5>
                                    <p>CEO &bull; Lola Vision Systems</p>
                                </div>
                            </div>
                            <div class="contact-actions" style="flex-direction: column; gap: 8px;">
                                <div style="display: flex; gap: 8px;">
                                    <a href="https://wa.me/16304792126" target="_blank" class="contact-btn primary" style="text-decoration: none; text-align: center;">WhatsApp</a>
                                    <a href="sms:+16304792126" class="contact-btn secondary" style="text-decoration: none; text-align: center;">iMessage</a>
                                </div>
                                <a href="mailto:tayo@lolavisionsystems.com" class="contact-btn secondary" style="text-decoration: none; text-align: center; width: 100%;">Email</a>
                            </div>
                        </div>
                    </div>
                    <div class="panel" style="margin-top: 24px;">
                        <h3>Partnership Summary</h3>
                        <div style="display: grid; gap: 12px;">
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(234,179,8,0.1); border-radius: 8px;">
                                <span style="color: var(--muted); font-size: 13px;">Engagement Status</span>
                                <span style="font-weight: 700; color: var(--stalled);">Stalled</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <span style="color: var(--muted); font-size: 13px;">Target Product</span>
                                <span style="font-weight: 600; color: var(--accent);">LVS-250</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <span style="color: var(--muted); font-size: 13px;">Application</span>
                                <span style="font-weight: 600;">Kamikaze Drones</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <span style="color: var(--muted); font-size: 13px;">Production Target</span>
                                <span style="font-weight: 600;">2027+</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notes Section -->
            <div class="notes-section">
                <div class="grid">
                    <!-- Private Notes -->
                    <div class="notes-panel">
                        <h3>
                            My Notes
                            <span class="notes-badge private">Private</span>
                        </h3>
                        <textarea
                            class="notes-textarea"
                            id="privateNotes"
                            placeholder="Add your private notes here. These are saved locally on your device and only visible to you..."
                        ></textarea>
                        <div class="notes-actions">
                            <div class="notes-meta">
                                <span id="privateNotesMeta">No notes saved</span>
                            </div>
                            <div class="notes-buttons">
                                <button class="notes-btn secondary" onclick="exportNotes('private')">Export</button>
                                <button class="notes-btn primary" onclick="saveNotes('private')">Save</button>
                            </div>
                        </div>
                    </div>

                    <!-- Account Notes (Placeholder) -->
                    <div class="notes-panel">
                        <h3>
                            Account Notes
                            <span class="notes-badge coming-soon">Coming Soon</span>
                        </h3>
                        <div class="notes-placeholder">
                            <div class="notes-placeholder-icon">&#128101;</div>
                            <p>Shared notes for your team</p>
                            <p class="coming-soon-text">Team sync feature coming soon</p>
                        </div>
                        <textarea
                            class="notes-textarea"
                            id="accountNotes"
                            placeholder="Account-wide notes will sync with your team once this feature is enabled..."
                            disabled
                        ></textarea>
                        <div class="notes-actions">
                            <div class="notes-meta">
                                <span style="color: #f97316;">Sync not yet available</span>
                            </div>
                            <div class="notes-buttons">
                                <button class="notes-btn secondary" disabled>Export</button>
                                <button class="notes-btn primary" disabled>Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PRODUCT TAB ==================== -->
        <div id="product" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>LVS-250 <span>Overview</span></h1>
                    <p>High-performance edge AI processor optimized for defense applications</p>
                </div>
            </div>
            <div class="panel">
                <h3>Product Details</h3>
                <p style="color: var(--muted); font-size: 14px; line-height: 1.7;">
                    The LVS-250 is designed for autonomous systems requiring real-time AI inference at the edge.
                    With ultra-low power consumption and high compute density, it's ideal for kamikaze drone applications
                    where SWaP (Size, Weight, and Power) constraints are critical.
                </p>
                <div style="margin-top: 24px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                    <div style="background: var(--panel-light); padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 28px; font-weight: 800; color: var(--accent);">50+</div>
                        <div style="font-size: 12px; color: var(--muted); margin-top: 4px;">TOPS Performance</div>
                    </div>
                    <div style="background: var(--panel-light); padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 28px; font-weight: 800; color: var(--gold);">&lt;5W</div>
                        <div style="font-size: 12px; color: var(--muted); margin-top: 4px;">Power Consumption</div>
                    </div>
                    <div style="background: var(--panel-light); padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 28px; font-weight: 800; color: var(--success);">12nm</div>
                        <div style="font-size: 12px; color: var(--muted); margin-top: 4px;">Process Node</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SPECS TAB ==================== -->
        <div id="specs" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>Technical <span>Specifications</span></h1>
                    <p>Detailed specifications for the LVS-250 processor</p>
                </div>
            </div>
            <div class="panel">
                <h3>Core Specifications</h3>
                <table style="width: 100%; border-collapse: collapse;">
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.06);">
                        <td style="padding: 14px 16px; color: var(--muted);">Process Technology</td>
                        <td style="padding: 14px 16px; font-weight: 600;">GlobalFoundries 12nm</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.06);">
                        <td style="padding: 14px 16px; color: var(--muted);">Peak Performance</td>
                        <td style="padding: 14px 16px; font-weight: 600;">50+ TOPS (INT8)</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.06);">
                        <td style="padding: 14px 16px; color: var(--muted);">Power Consumption</td>
                        <td style="padding: 14px 16px; font-weight: 600;">&lt;5W typical</td>
                    </tr>
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.06);">
                        <td style="padding: 14px 16px; color: var(--muted);">Memory Interface</td>
                        <td style="padding: 14px 16px; font-weight: 600;">LPDDR4x</td>
                    </tr>
                    <tr>
                        <td style="padding: 14px 16px; color: var(--muted);">Operating Temperature</td>
                        <td style="padding: 14px 16px; font-weight: 600;">-40C to +85C</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- ==================== DEVKIT TAB ==================== -->
        <div id="devkit" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>Development <span>Kit</span></h1>
                    <p>Hardware and tools for LVS-250 integration</p>
                </div>
            </div>
            <div class="panel">
                <h3>DevKit Status</h3>
                <p style="color: var(--muted); font-size: 14px;">Development kit availability pending IRAD contract execution.</p>
            </div>
        </div>

        <!-- ==================== SDK TAB ==================== -->
        <div id="sdk" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>Software <span>SDK</span></h1>
                    <p>Development tools and APIs</p>
                </div>
            </div>
            <div class="panel">
                <h3>SDK Access</h3>
                <p style="color: var(--muted); font-size: 14px;">SDK access will be provided upon IRAD contract execution.</p>
            </div>
        </div>

        <!-- ==================== DOCUMENTS TAB ==================== -->
        <div id="documents" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>Partner <span>Documents</span></h1>
                    <p>Agreements, proposals, and technical documentation</p>
                </div>
            </div>
            <div class="panel">
                <h3>Available Documents</h3>
                <div style="display: flex; align-items: center; gap: 14px; padding: 14px; background: var(--panel-light); border-radius: 10px; margin-bottom: 10px;">
                    <div style="width: 40px; height: 40px; background: rgba(16, 185, 129, 0.15); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--success);">&#128196;</div>
                    <div style="flex: 1;">
                        <div style="font-size: 13px; font-weight: 600;">Mutual NDA</div>
                        <div style="font-size: 11px; color: var(--muted);">Executed October 2025</div>
                    </div>
                    <span style="color: var(--success); font-size: 12px;">&#10003; Signed</span>
                </div>
                <div style="display: flex; align-items: center; gap: 14px; padding: 14px; background: var(--panel-light); border-radius: 10px; margin-bottom: 10px;">
                    <div style="width: 40px; height: 40px; background: rgba(234, 179, 8, 0.15); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--stalled);">&#128196;</div>
                    <div style="flex: 1;">
                        <div style="font-size: 13px; font-weight: 600;">IRAD Proposal</div>
                        <div style="font-size: 11px; color: var(--muted);">Submitted November 2025</div>
                    </div>
                    <span style="color: var(--stalled); font-size: 12px;">Awaiting Signature</span>
                </div>
            </div>
        </div>

        <!-- ==================== SUPPORT TAB ==================== -->
        <div id="support" class="tab-content">
            <div class="welcome" style="margin-bottom: 24px;">
                <div class="welcome-content">
                    <h1>Technical <span>Support</span></h1>
                    <p>Get help from the Lola Vision Systems team</p>
                </div>
            </div>
            <div class="grid">
                <div class="panel">
                    <h3>Support Channels</h3>
                    <p style="color: var(--muted); font-size: 14px; margin-bottom: 16px;">
                        For questions about the IRAD proposal or partnership status, please contact your LVS representative.
                    </p>
                    <div style="background: var(--panel-light); padding: 16px; border-radius: 10px;">
                        <div style="font-size: 13px; font-weight: 600; margin-bottom: 8px;">Email Support</div>
                        <div style="font-size: 14px; color: var(--accent);">partners@lolavisionsystems.com</div>
                    </div>
                </div>
                <div class="panel">
                    <h3>Your LVS Contact</h3>
                    <div class="contact-card">
                        <h4>Dedicated Support</h4>
                        <div class="contact-person">
                            <div class="contact-avatar">TA</div>
                            <div class="contact-info">
                                <h5>Tayo Adesanya</h5>
                                <p>CEO &bull; Lola Vision Systems</p>
                            </div>
                        </div>
                        <div class="contact-actions" style="flex-direction: column; gap: 8px;">
                            <div style="display: flex; gap: 8px;">
                                <a href="https://wa.me/16304792126" target="_blank" class="contact-btn primary" style="text-decoration: none; text-align: center;">WhatsApp</a>
                                <a href="sms:+16304792126" class="contact-btn secondary" style="text-decoration: none; text-align: center;">iMessage</a>
                            </div>
                            <a href="mailto:tayo@lolavisionsystems.com" class="contact-btn secondary" style="text-decoration: none; text-align: center; width: 100%;">Email</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Lola Vision Systems &bull; Customer Portal &bull; Confidential</p>
            <p style="margin-top: 4px; opacity: 0.6;">For support: partners@lolavisionsystems.com</p>
        </footer>
    </div>

    <!-- Coming Soon Banner -->
    <div class="coming-soon">
        &#9888; MOCKUP - Feature Coming Soon
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // ================================================================
        // NOTES FUNCTIONALITY
        // ================================================================

        // Get storage key for notes (customer-specific)
        function getNotesKey(type) {
            return `lvs_customer_notes_mach_${type}`;
        }

        // Save notes to localStorage
        function saveNotes(type) {
            const textarea = document.getElementById(type + 'Notes');
            const metaEl = document.getElementById(type + 'NotesMeta');

            if (!textarea) return;

            const content = textarea.value;
            const key = getNotesKey(type);
            const timestamp = new Date().toISOString();

            const noteData = {
                content: content,
                savedAt: timestamp,
                wordCount: content.trim() ? content.trim().split(/\s+/).length : 0
            };

            try {
                localStorage.setItem(key, JSON.stringify(noteData));

                if (metaEl) {
                    const date = new Date(timestamp);
                    metaEl.textContent = `Saved ${date.toLocaleDateString()} at ${date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})} • ${noteData.wordCount} words`;
                    metaEl.style.color = 'var(--success)';
                    setTimeout(() => { metaEl.style.color = ''; }, 2000);
                }
            } catch (e) {
                console.error('Failed to save notes:', e);
                if (metaEl) {
                    metaEl.textContent = 'Failed to save';
                    metaEl.style.color = 'var(--error)';
                }
            }
        }

        // Load notes from localStorage
        function loadNotes() {
            const types = ['private'];
            types.forEach(type => {
                const textarea = document.getElementById(type + 'Notes');
                const metaEl = document.getElementById(type + 'NotesMeta');
                if (!textarea) return;

                const key = getNotesKey(type);
                try {
                    const stored = localStorage.getItem(key);
                    if (stored) {
                        const noteData = JSON.parse(stored);
                        textarea.value = noteData.content || '';
                        if (metaEl && noteData.savedAt) {
                            const date = new Date(noteData.savedAt);
                            metaEl.textContent = `Last saved ${date.toLocaleDateString()} at ${date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})} • ${noteData.wordCount || 0} words`;
                        }
                    }
                } catch (e) {
                    console.error('Failed to load notes:', e);
                }
            });
        }

        // Export notes as text file
        function exportNotes(type) {
            const textarea = document.getElementById(type + 'Notes');
            if (!textarea || !textarea.value.trim()) {
                alert('No notes to export');
                return;
            }

            const date = new Date().toISOString().split('T')[0];
            const filename = `LVS_Mach_${type}_notes_${date}.txt`;
            const content = `LVS Customer Portal - ${type.charAt(0).toUpperCase() + type.slice(1)} Notes
Customer: Mach Industries
Exported: ${new Date().toLocaleString()}
${'='.repeat(50)}

${textarea.value}`;

            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Load notes on page load
        document.addEventListener('DOMContentLoaded', loadNotes);
    </script>
</body>
</html>
