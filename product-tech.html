<!DOCTYPE html>
<!--
================================================================================
LVS PRODUCT & TECH INFO PAGE
================================================================================
Version: 1.0
Last Updated: February 2026

OVERVIEW:
  Product and technical specifications page accessible to investors and founders.
  Uses shared-tabs.js for consistent content across all portals.

TABS:
  - Product Overview (LVS-250)
  - Technical Specifications (including power budget)
  - Development Kit
  - Software SDK
  - Demos & Testimonials
================================================================================
-->
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' https:; connect-src 'self' https://lvs-api-657638018776.us-central1.run.app;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product & Tech | Lola Vision Systems</title>
    <link rel="stylesheet" href="css/shared-portal.css">
    <script src="js/config.js"></script>
    <script src="js/security.js"></script>
    <script src="js/shared-tabs.js"></script>
    <script>
        (function() {
            const SESSION_TIMEOUT = 30 * 60 * 1000;
            const timestamp = sessionStorage.getItem('lvs_session_timestamp');
            const auth = sessionStorage.getItem('lvs_auth');
            if (auth !== 'true') { window.location.href = 'login.html'; return; }
            if (timestamp && (Date.now() - parseInt(timestamp, 10)) > SESSION_TIMEOUT) {
                sessionStorage.clear(); window.location.href = 'login.html?session=expired'; return;
            }
            sessionStorage.setItem('lvs_session_timestamp', Date.now().toString());
        })();
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-brand">
            <img src="assets/lvs-logo.webp" alt="LVS" class="nav-logo">
            <div class="nav-title">LOLA VISION <span>SYSTEMS</span></div>
        </div>
        <div class="nav-user">
            <a href="founder-portal.html" class="nav-link" style="margin-right: 16px;">&#8592; Back to Portal</a>
            <span class="customer-badge" style="background: linear-gradient(135deg, var(--gold), #b8860b); color: #000;">Product & Tech</span>
            <span id="navGreeting" class="nav-greeting"></span>
            <div class="nav-avatar" id="navAvatar">--</div>
            <a href="login.html" class="nav-link" onclick="sessionStorage.clear()">Logout</a>
        </div>
    </nav>

    <!-- Tab Navigation -->
    <div class="tab-nav">
        <button class="tab-btn active" data-tab="product">Product<span class="badge">LVS-250</span></button>
        <button class="tab-btn" data-tab="specs">Specifications</button>
        <button class="tab-btn" data-tab="devkit">Development Kit</button>
        <button class="tab-btn" data-tab="sdk">Software SDK</button>
        <button class="tab-btn" data-tab="demos">Demos</button>
        <button class="tab-btn" data-tab="testimonials">Testimonials</button>
    </div>

    <div class="container">
        <!-- Tab content containers - filled by shared-tabs.js -->
        <div id="product" class="tab-content active"></div>
        <div id="specs" class="tab-content"></div>
        <div id="devkit" class="tab-content"></div>
        <div id="sdk" class="tab-content"></div>
        <div id="demos" class="tab-content"></div>
        <div id="testimonials" class="tab-content"></div>

        <footer class="footer">
            <p>Lola Vision Systems &bull; Product & Technical Information &bull; Confidential</p>
            <p style="margin-top: 4px; opacity: 0.6;">For questions: partners@lolavisionsystems.com</p>
        </footer>
    </div>

    <!-- Fullscreen Video Overlay -->
    <div id="videoOverlay" class="video-overlay-modal">
        <div class="video-overlay-backdrop"></div>
        <div class="video-overlay-content">
            <button class="video-overlay-close" aria-label="Close">&times;</button>
            <video id="overlayVideo" controls playsinline>
                <source src="" type="video/mp4">
            </video>
        </div>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // Handle hash navigation (e.g., product-tech.html#specs)
        function navigateToTab() {
            const hash = window.location.hash.replace('#', '');
            if (hash) {
                const tabBtn = document.querySelector(`[data-tab="${hash}"]`);
                if (tabBtn) {
                    tabBtn.click();
                }
            }
        }

        // Initialize user greeting
        function initUserGreeting() {
            const firstName = sessionStorage.getItem('lvs_first_name') || 'User';
            const fullName = sessionStorage.getItem('lvs_user_name') || 'User';
            const initials = fullName.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);

            document.getElementById('navGreeting').textContent = `Hi, ${firstName}!`;
            document.getElementById('navAvatar').textContent = initials;
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize shared tabs (Product, Specs, DevKit, SDK, Demos, Testimonials)
            LVSSharedTabs.init();
            initUserGreeting();
            // Handle URL hash navigation
            navigateToTab();
        });

        // Handle hash changes
        window.addEventListener('hashchange', navigateToTab);
    </script>
</body>
</html>
